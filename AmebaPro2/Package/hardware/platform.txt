
# Realtek Ameba Core and platform.
# ------------------------------
#
# For more info:
# https://github.com/arduino/Arduino/wiki/Arduino-IDE-1.5-3rd-party-Hardware-specification

name=AmebaPro2 ARM (32-bits) Boards
version=4.0.X
toolchian_version_p1=1.0.0-p1
toolchian_version_p2=1.0.0-p2

# Ameba project settings
# ----------------------
ameba.sdkpath={build.system.path}
ameba.project=realtek_amebapro2_v0_example


# Ameba compile variables
# ----------------------
compiler.path={runtime.tools.ameba_pro2_toolchain.path}/bin/

compiler.c.cmd=arm-none-eabi-gcc
###compiler.c.flags=-ffunction-sections -march=armv8-m.main+dsp -mthumb -mcmse -mfloat-abi=hard -mfpu=fpv5-sp-d16 -g -gdwarf-3 -nostartfiles -nodefaultlibs -nostdlib -O2 -D__FPU_PRESENT -gdwarf-3 -fstack-usage -fdata-sections -nostartfiles -nostdlib -Wall -Wpointer-arith -Wstrict-prototypes -Wundef -Wno-write-strings -Wno-maybe-uninitialized -c -MMD -Wextra
compiler.c.flags=-march=armv8-m.main+dsp -mthumb -mcmse -mfpu=fpv5-sp-d16 -mfp16-format=ieee -mfloat-abi=softfp -fno-common -fsigned-char -Os -fstack-usage -fdata-sections -ffunction-sections  -fno-optimize-sibling-calls -g -gdwarf-3 -MMD -nostartfiles -nodefaultlibs -nostdlib -std=gnu99 -Wall -Wpointer-arith -Wstrict-prototypes -Wundef -Wno-write-strings -Wno-maybe-uninitialized -fdiagnostics-color=always

compiler.c.elf.cmd=arm-none-eabi-g++
compiler.c.elf.flags=-march=armv8-m.main+dsp -mthumb -mcmse -mfpu=fpv5-sp-d16 -mfp16-format=ieee -mfloat-abi=softfp -fno-common -fsigned-char -Os -fstack-usage -fdata-sections -ffunction-sections  -fno-optimize-sibling-calls -g -gdwarf-3 -MMD -nostartfiles -nodefaultlibs -nostdlib  -std=gnu++11 -Wall -Wpointer-arith -Wundef -Wno-write-strings -Wno-maybe-uninitialized -fdiagnostics-color=always -fno-PIC 

###compiler.S.flags=-c -g -x assembler-with-cpp
#compiler.S.flags= -march=armv8-m.main -mthumb -mfpu=fpv5-sp-d16 -mfloat-abi=softfp -x assembler-with-cpp

compiler.cpp.cmd=arm-none-eabi-g++
###compiler.cpp.flags=-ffunction-sections -march=armv8-m.main+dsp -mthumb -mcmse -mfloat-abi=hard -mfpu=fpv5-sp-d16 -g -gdwarf-3 -nostartfiles -nodefaultlibs -nostdlib -O2 -D__FPU_PRESENT -gdwarf-3 -fstack-usage -fdata-sections -nostartfiles -nostdlib -Wall -Wpointer-arith -Wundef -Wno-write-strings -Wno-maybe-uninitialized -c -MMD -Wextra 
compiler.cpp.flags=-march=armv8-m.main+dsp -mthumb -mcmse -mfpu=fpv5-sp-d16 -mfp16-format=ieee -mfloat-abi=softfp -fno-common -fsigned-char -Os -fstack-usage -fdata-sections -ffunction-sections  -fno-optimize-sibling-calls -g -gdwarf-3 -MMD -nostartfiles -nodefaultlibs -nostdlib -std=gnu++11 -Wall -Wpointer-arith -Wundef -Wno-write-strings -Wno-maybe-uninitialized -fdiagnostics-color=always -fno-PIC

compiler.ar.cmd=arm-none-eabi-ar
compiler.ar.flags=rcs
compiler.strip.cmd=arm-none-eabi-strip
compiler.nm.cmd=arm-none-eabi-nm
compiler.objcopy.cmd=arm-none-eabi-objcopy
###compiler.objcopy.eep.flags=-O ihex -j .eeprom --set-section-flags=.eeprom=alloc,load --no-change-warnings --change-section-lma .eeprom=0
###compiler.elf2hex.flags=-O binary
compiler.elf2hex.cmd=arm-none-eabi-objcopy
compiler.ldflags=
compiler.size.cmd=arm-none-eabi-size
compiler.define=-DARDUINO

# this can be overriden in boards.txt
build.extra_flags=

# These can be overridden in platform.local.txt
compiler.c.extra_flags=
compiler.c.elf.extra_flags= -Wl,-wrap,strcat -Wl,-wrap,strchr -Wl,-wrap,strcmp -Wl,-wrap,strncmp -Wl,-wrap,strnicmp -Wl,-wrap,strcpy -Wl,-wrap,strncpy -Wl,-wrap,strlcpy -Wl,-wrap,strlen -Wl,-wrap,strnlen -Wl,-wrap,strncat -Wl,-wrap,strpbrk -Wl,-wrap,strspn -Wl,-wrap,strstr -Wl,-wrap,strtok -Wl,-wrap,strxfrm -Wl,-wrap,strsep -Wl,-wrap,strdup -Wl,-wrap,strtod -Wl,-wrap,strtof -Wl,-wrap,strtold -Wl,-wrap,strtoll -Wl,-wrap,strtoul -Wl,-wrap,strtoull -Wl,-wrap,atoi -Wl,-wrap,atoui -Wl,-wrap,atol -Wl,-wrap,atoul -Wl,-wrap,atoull -Wl,-wrap,atof -Wl,-wrap,memcmp -Wl,-wrap,memcpy -Wl,-wrap,memmove -Wl,-wrap,memset -Wl,-wrap,puts -Wl,-wrap,printf -Wl,-wrap,snprintf -Wl,-wrap,vsnprintf -Wl,-wrap,vprintf -Wl,-wrap,malloc -Wl,-wrap,free -Wl,-wrap,realloc -Wl,-wrap,calloc -Wl,-wrap,abort -Wl,-wrap,fopen -Wl,-wrap,fclose -Wl,-wrap,fread -Wl,-wrap,fwrite -Wl,-wrap,fseek -Wl,-wrap,fsetpos -Wl,-wrap,fgetpos -Wl,-wrap,rewind -Wl,-wrap,fflush -Wl,-wrap,remove -Wl,-wrap,rename -Wl,-wrap,feof -Wl,-wrap,ferror -Wl,-wrap,ftell -Wl,-wrap,fputc -Wl,-wrap,fputs -Wl,-wrap,fgets -Wl,-wrap,stat -Wl,-wrap,mkdir -Wl,-wrap,scandir -Wl,-wrap,readdir -Wl,-wrap,opendir -Wl,-wrap,access -Wl,-wrap,rmdir -Wl,-wrap,closedir -nostartfiles -nodefaultlibs -nostdlib --specs=nosys.specs -Wl,--gc-sections -Wl,--cref -Wl,--build-id=none -Wl,--use-blx 

compiler.cpp.extra_flags=
compiler.ar.extra_flags=
compiler.elf2hex.extra_flags=


# Ameba include path
# ------------------
compiler.ameba.c.include= "-I." "-I{ameba.sdkpath}/project/{ameba.project}/inc" "-I{ameba.sdkpath}/component/mbed/hal" "-I{ameba.sdkpath}/component/mbed/hal_ext" "-I{ameba.sdkpath}/component/mbed/targets/hal/rtl8735b" "-I{ameba.sdkpath}/component/mbed/api" "-I{ameba.sdkpath}/component/stdlib" "-I{ameba.sdkpath}/component/at_cmd" "-I{ameba.sdkpath}/component/network" "-I{ameba.sdkpath}/component/network/cJSON" "-I{ameba.sdkpath}/component/soc/8735b/cmsis/cmsis-core/include" "-I{ameba.sdkpath}/component/soc/8735b/cmsis/rtl8735b/lib/include" "-I{ameba.sdkpath}/component/soc/8735b/cmsis/rtl8735b/include" "-I{ameba.sdkpath}/component/soc/8735b/fwlib/rtl8735b/include" "-I{ameba.sdkpath}/component/soc/8735b/fwlib/rtl8735b/source/ram_ns/halmac/halmac_88xx" "-I{ameba.sdkpath}/component/soc/8735b/fwlib/rtl8735b/lib/source/ram/usb_otg/host/storage/inc/quirks" "-I{ameba.sdkpath}/component/soc/8735b/fwlib/rtl8735b/lib/source/ram/usb_otg" "-I{ameba.sdkpath}/component/soc/8735b/fwlib/rtl8735b/lib/source/ram/usb_otg/device/class/ethernet/inc" "-I{ameba.sdkpath}/component/soc/8735b/fwlib/rtl8735b/source/ram_ns/halmac/halmac_88xx/halmac_8822b" "-I{ameba.sdkpath}/component/soc/8735b/fwlib/rtl8735b/lib/include" "-I{ameba.sdkpath}/component/soc/8735b/fwlib/rtl8735b/lib/source/ram/usb_otg/device/class/ethernet/src" "-I{ameba.sdkpath}/component/soc/8735b/fwlib/rtl8735b/lib/source/ram/usb_otg/device/core/inc" "-I{ameba.sdkpath}/component/soc/8735b/fwlib/rtl8735b/source/ram_ns/halmac/halmac_88xx/halmac_8735b" "-I{ameba.sdkpath}/component/soc/8735b/fwlib/rtl8735b/source/ram_ns/halmac/halmac_88xx_v1" "-I{ameba.sdkpath}/component/soc/8735b/fwlib/rtl8735b/lib/source/ram/usb_otg/device/class/vendor/inc" "-I{ameba.sdkpath}/component/soc/8735b/fwlib/rtl8735b/lib/source/ram/usb_otg/host/storage/inc" "-I{ameba.sdkpath}/component/soc/8735b/fwlib/rtl8735b/lib/source/ram/usb_otg/host/storage/inc/scatterlist" "-I{ameba.sdkpath}/component/soc/8735b/fwlib/rtl8735b/source/ram_ns/halmac/halmac_88xx/halmac_8821c" "-I{ameba.sdkpath}/component/soc/8735b/fwlib/rtl8735b/lib/source/ram/usb_otg/host/vendor_spec" "-I{ameba.sdkpath}/component/soc/8735b/fwlib/rtl8735b/source/ram_ns/halmac" "-I{ameba.sdkpath}/component/soc/8735b/fwlib/rtl8735b/source/ram_ns/halmac/halmac_88xx_v1/halmac_8814b" "-I{ameba.sdkpath}/component/soc/8735b/fwlib/rtl8735b/lib/source/ram/usb_otg/host/storage/inc/scsi" "-I{ameba.sdkpath}/component/soc/8735b/fwlib/rtl8735b/lib/source/ram/usb_otg/inc" "-I{ameba.sdkpath}/component/soc/8735b/fwlib/rtl8735b/source/ram_ns/halmac/halmac_88xx/halmac_8195b" "-I{ameba.sdkpath}/component/soc/8735b/fwlib/rtl8735b/lib/source/ram/usb_otg/device" "-I{ameba.sdkpath}/component/soc/8735b/misc/utilities/include" "-I{ameba.sdkpath}/component/soc/8735b/app/stdio_port" "-I{ameba.sdkpath}/component/soc/8735b/app/xmodem/rom" "-I{ameba.sdkpath}/component/soc/8735b/app/shell" "-I{ameba.sdkpath}/component/soc/8735b/app/shell/rom_ns" "-I{ameba.sdkpath}/component/soc/8735b/app/rtl_printf/include" "-I{ameba.sdkpath}/component/os/os_dep/include" "-I{ameba.sdkpath}/component/os/freertos" "-I{ameba.sdkpath}/component/os/freertos/freertos_v202012.00/Source/include" "-I{ameba.sdkpath}/component/wifi/driver/include" "-I{ameba.sdkpath}/component/wifi/driver/src/osdep" "-I{ameba.sdkpath}/component/wifi/driver/src/phl" "-I{ameba.sdkpath}/component/wifi/driver/src/hal" "-I{ameba.sdkpath}/component/wifi/driver/src/hal/halmac" "-I{ameba.sdkpath}/component/wifi/driver/src/hci" "-I{ameba.sdkpath}/component/wifi/driver/src/hal/phydm/rtl8735b" "-I{ameba.sdkpath}/component/wifi/driver/src/hal/phydm" "-I{ameba.sdkpath}/component/wifi/wpa_supplicant/wpa_supplicant" "-I{ameba.sdkpath}/component/lwip/api" "-I{ameba.sdkpath}/component/lwip/lwip_v2.1.2/src/include" "-I{ameba.sdkpath}/component/lwip/lwip_v2.1.2/src/include/lwip" "-I{ameba.sdkpath}/component/lwip/lwip_v2.1.2/src/include/compat/posix" "-I{ameba.sdkpath}/component/lwip/lwip_v2.1.2/port/realtek" "-I{ameba.sdkpath}/component/lwip/lwip_v2.1.2/port/realtek/freertos" "-I{ameba.sdkpath}/component/ssl/mbedtls-3.0.0/include" "-I{ameba.sdkpath}/component/ssl/ssl_ram_map/rom" "-I{ameba.sdkpath}/component/os/freertos/freertos_posix/lib/include/FreeRTOS_POSIX" "-I{ameba.sdkpath}/component/os/freertos/freertos_posix/lib/include" "-I{ameba.sdkpath}/component/os/freertos/freertos_posix/lib/FreeRTOS-Plus-POSIX/include/portable/realtek/rtl8735b" "-I{ameba.sdkpath}/component/os/freertos/freertos_posix/lib/FreeRTOS-Plus-POSIX/include" "-I{ameba.sdkpath}/component/os/freertos/freertos_posix/lib/include/private" "-I{ameba.sdkpath}/component/usb/usb_class/device/class" "-I{ameba.sdkpath}/component/usb/usb_class/device" "-I{ameba.sdkpath}/component/usb/usb_class/host/uvc/inc" "-I{ameba.sdkpath}/component/video/driver/common" "-I{ameba.sdkpath}/component/video/driver/RTL8735B" "-I{ameba.sdkpath}/component/media/rtp_codec" "-I{ameba.sdkpath}/component/media/samples" "-I{ameba.sdkpath}/component/media/mmfv2" "-I{ameba.sdkpath}/component/wifi/api" "-I{ameba.sdkpath}/component/wifi/wifi_config" "-I{ameba.sdkpath}/component/wifi/wifi_fast_connect" "-I{ameba.sdkpath}/component/sdio/sd_host/inc" "-I{ameba.sdkpath}/component/file_system/fatfs" "-I{ameba.sdkpath}/component/file_system/fatfs/r0.14" "-I{ameba.sdkpath}/component/file_system/ftl_common" "-I{ameba.sdkpath}/component/file_system/vfs" "-I{ameba.sdkpath}/component/file_system/littlefs" "-I{ameba.sdkpath}/component/file_system/littlefs/r2.41" "-I{ameba.sdkpath}/component/audio/3rdparty/faac/libfaac" "-I{ameba.sdkpath}/component/audio/3rdparty/faac/include" "-I{ameba.sdkpath}/component/audio/3rdparty/haac" "-I{ameba.sdkpath}/component/media/muxer" "-I{ameba.sdkpath}/component/media/3rdparty/fmp4/libmov/include" "-I{ameba.sdkpath}/component/media/3rdparty/fmp4/libflv/include" "-I{ameba.sdkpath}/component/soc/8735b/cmsis/cmsis-dsp/include" "-I{ameba.sdkpath}/component/application/qr_code_scanner/inc" "-I{ameba.sdkpath}/component/audio/3rdparty/speex/speex" "-I{ameba.sdkpath}/component/audio/3rdparty/AEC/AEC" "-I{ameba.sdkpath}/component/audio/3rdparty/opus-1.3.1/include" "-I{ameba.sdkpath}/component/audio/3rdparty/libopusenc-0.2.1/include" "-I{ameba.sdkpath}/component/soc/8735b/fwlib/rtl8735b/lib/source/ram/video" "-I{ameba.sdkpath}/component/soc/8735b/fwlib/rtl8735b/lib/source/ram/video/semihost" "-I{ameba.sdkpath}/component/soc/8735b/cmsis/voe/rom" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/os/freertos/freertos_v202012.00/Source/portable/GCC/ARM_CM33/non_secure" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/os/freertos/freertos_v202012.00/Source/portable/GCC/ARM_CM33/secure" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/soc/8735b/fwlib/rtl8735b/lib/source/ram/video/voe_bin" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/video/driver/RTL8735B" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../src/test_model/svm" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../src/test_model" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../src" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/soc/8735b/fwlib/rtl8735b/lib/source/ram/nn" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/soc/8735b/fwlib/rtl8735b/lib/source/ram/nn/model_itp" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/soc/8735b/fwlib/rtl8735b/lib/source/ram/nn/nn_api" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/soc/8735b/fwlib/rtl8735b/lib/source/ram/nn/nn_postprocess" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/soc/8735b/fwlib/rtl8735b/lib/source/ram/nn/nn_preprocess" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/soc/8735b/fwlib/rtl8735b/lib/source/ram/nn/run_facerecog" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/soc/8735b/fwlib/rtl8735b/lib/source/ram/nn/run_itp" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/soc/8735b/misc/platform" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/media/mmfv2" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/media/rtp_codec" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/audio/3rdparty/AEC" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/mbed/hal_ext" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/file_system/ftl" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/file_system/system_data" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/file_system/fwfs" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/driver" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/driver/hci" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/driver/inc" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/driver/inc/hci" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/driver/platform/amebapro2/inc" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/os/osif" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/rtk_stack/example" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/rtk_stack/inc/app" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/rtk_stack/inc/bluetooth/gap" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/rtk_stack/inc/bluetooth/profile" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/rtk_stack/inc/bluetooth/profile/client" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/rtk_stack/inc/bluetooth/profile/server" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/rtk_stack/inc/framework/bt" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/rtk_stack/inc/framework/remote" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/rtk_stack/inc/framework/sys" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/rtk_stack/inc/os" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/rtk_stack/inc/platform" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/rtk_stack/inc/stack" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/rtk_stack/src/ble/privacy" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/rtk_stack/platform/amebapro2/inc" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/rtk_stack/platform/amebapro2/lib" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/rtk_stack/platform/common/inc" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/rtk_stack/example/ble_central" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/rtk_stack/example/ble_peripheral" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/rtk_stack/example/ble_scatternet" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/rtk_stack/example/bt_beacon" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/rtk_stack/example/bt_config" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/rtk_stack/example/bt_airsync_config" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/rtk_stack/example/bt_mesh/provisioner" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/rtk_stack/example/bt_mesh/device" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/rtk_stack/example/bt_mesh_multiple_profile/provisioner_multiple_profile" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/rtk_stack/example/bt_mesh_multiple_profile/device_multiple_profile" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/bluetooth/rtk_stack/example/bt_mesh_test" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/wifi/wpa_supplicant/src" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/network/mqtt/MQTTClient" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/network/mqtt/MQTTPacket" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../src/VIPLiteDrv/sdk/inc" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/example/media_framework/inc" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../src/doorbell-chime" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/wifi/driver/src/core/option" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/ssl/ssl_ram_map/rom" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/audio/3rdparty/faac/libfaac" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../src/VIPLiteDrv/driver/inc" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../src/VIPLiteDrv/hal/inc" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../component/file_system/fatfs/r0.14" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/soc/8735b/fwlib/rtl8735b/lib/source/ram/video/osd" "-I{ameba.sdkpath}/project/realtek_amebapro2_v0_example/GCC-RELEASE/application/../../../../component/wifi/wifi_config"
compiler.arduino.c.include="-I{build.core.path}"
###compiler.ameba.c.flags= -DARDUINO_SDK -DCONFIG_PLATFORM_8721D -DCONFIG_USE_MBEDTLS_ROM_ALG -DCONFIG_FUNCION_O0_OPTIMIZE -DDM_ODM_SUPPORT_TYPE=32 {compiler.arduino.c.include}
compiler.ameba.c.flags= -DARDUINO_SDK -DARM_MATH_ARMV8MML -DCONFIG_BUILD_ALL=1 -DCONFIG_BUILD_LIB=1 -DCONFIG_BUILD_RAM=1 -DCONFIG_PLATFORM_8735B -DCONFIG_RTL8735B_PLATFORM=1 -DCONFIG_SYSTEM_TIME64=1 -D__ARMVFP__ -D__ARM_ARCH_7EM__=0 -D__ARM_ARCH_7M__=0 -D__ARM_ARCH_8M_BASE__=0 -D__ARM_ARCH_8M_MAIN__=1 -D__ARM_FEATURE_FP16_SCALAR_ARITHMETIC=1 -D__DSP_PRESENT=1 -D__FPU_PRESENT -D__thumb2__ {compiler.arduino.c.include}

compiler.ameba.cpp.include= compiler.ameba.c.include
compiler.arduino.cpp.include= compiler.arduino.c.includ
compiler.ameba.cpp.flags= -DARDUINO_SDK -DARM_MATH_ARMV8MML -DCONFIG_BUILD_ALL=1 -DCONFIG_BUILD_LIB=1 -DCONFIG_BUILD_RAM=1 -DCONFIG_PLATFORM_8735B -DCONFIG_RTL8735B_PLATFORM=1 -DCONFIG_SYSTEM_TIME64=1 -D__ARMVFP__ -D__ARM_ARCH_7EM__=0 -D__ARM_ARCH_7M__=0 -D__ARM_ARCH_8M_BASE__=0 -D__ARM_ARCH_8M_MAIN__=1 -D__ARM_FEATURE_FP16_SCALAR_ARITHMETIC=1 -D__DSP_PRESENT=1 -D__FPU_PRESENT -D__thumb2__ {compiler.arduino.cpp.include}

# Ameba archive list
# -------------------
compiler.ameba.ar.list= "{runtime.platform.path}/variants/common_libs/lib_cmsis_dsp.a" "{runtime.platform.path}/variants/common_libs/libaec.a" "{runtime.platform.path}/variants/common_libs/libfaac.a" "{runtime.platform.path}/variants/common_libs/libfmp4.a" "{runtime.platform.path}/variants/common_libs/libg711.a" "{runtime.platform.path}/variants/common_libs/libhaac.a" "{runtime.platform.path}/variants/common_libs/libhmp3.a" "{runtime.platform.path}/variants/common_libs/libhttp.a" "{runtime.platform.path}/variants/common_libs/liblightsensor.a" "{runtime.platform.path}/variants/common_libs/libmmf.a" "{runtime.platform.path}/variants/common_libs/libmuxer.a" "{runtime.platform.path}/variants/common_libs/libnn.a" "{runtime.platform.path}/variants/common_libs/libopus.a" "{runtime.platform.path}/variants/common_libs/libopusenc.a" "{runtime.platform.path}/variants/common_libs/libopusfile.a" "{runtime.platform.path}/variants/common_libs/libqrcode.a" "{runtime.platform.path}/variants/common_libs/libsdcard.a" "{runtime.platform.path}/variants/common_libs/libsoc_ntz.a" "{runtime.platform.path}/variants/common_libs/libusbd.a" "{runtime.platform.path}/variants/common_libs/libvideo_ntz.a" "{runtime.platform.path}/variants/common_libs/libwlan.a" "{runtime.platform.path}/variants/common_libs/libwps.a" "{runtime.platform.path}/variants/common_libs/libarduino.a"

# USB Flags
# ---------
# Default blank usb manufacturer will be filled in at compile time
# - from numeric vendor ID, set to Unknown otherwise
build.usb_manufacturer="Unknown"
build.usb_flags=-DUSB_VID={build.vid} -DUSB_PID={build.pid} -DUSBCON '-DUSB_MANUFACTURER={build.usb_manufacturer}' '-DUSB_PRODUCT={build.usb_product}'


# Ameba compile patterns
# ---------------------
## Compile c files
recipe.c.o.pattern="{compiler.path}{compiler.c.cmd}" {compiler.c.flags} -mcpu={build.tarch} -DF_CPU={build.f_cpu} -DARDUINO={runtime.ide.version} -DARDUINO_{build.board} -DARDUINO_ARCH_{build.arch} {compiler.c.extra_flags} {build.extra_flags} -Wl,--start-group {compiler.ameba.c.include} -Wl,--end-group {compiler.ameba.c.flags} {includes} "{source_file}" -o "{object_file}"

## Compile c++ files
###recipe.cpp.o.pattern="{compiler.path}{compiler.cpp.cmd}" {compiler.cpp.flags} -mcpu={build.tarch} -DF_CPU={build.f_cpu} -DARDUINO={runtime.ide.version} -DARDUINO_{build.board} -DARDUINO_ARCH_{build.arch} {compiler.cpp.extra_flags} {build.extra_flags} -Wl,--start-group {compiler.ameba.cpp.include} -Wl,--end-group {compiler.ameba.cpp.flags} -std=c++11 -fno-use-cxa-atexit {includes} "{source_file}" -o "{object_file}"
recipe.cpp.o.pattern="{compiler.path}{compiler.cpp.cmd}" {compiler.cpp.flags} -mcpu={build.tarch} -DF_CPU={build.f_cpu} -DARDUINO={runtime.ide.version} -DARDUINO_{build.board} -DARDUINO_ARCH_{build.arch} {compiler.cpp.extra_flags} {build.extra_flags} -Wl,--start-group {compiler.ameba.cpp.include} -Wl,--end-group {compiler.ameba.cpp.flags} {includes} "{source_file}" -o "{object_file}"

## Create archives
recipe.ar.pattern="{compiler.path}{compiler.ar.cmd}" {compiler.ar.flags} {compiler.ar.extra_flags} "{archive_file_path}" "{object_file}"

## Combine gc-sections, archives, and objects
###recipe.c.combine.pattern="{compiler.path}{compiler.c.elf.cmd}" "-L{runtime.tools.ameba_pro2_toolchain.path}/lib/" "-L{build.variant.path}/linker_scripts/gcc" "-T{build.variant.path}/{build.ldscript}" {compiler.c.elf.flags} "-Wl,-Map={build.path}/application.map" {compiler.c.elf.extra_flags} -o "{build.path}/application.axf" -Wl,--start-group {object_files} -Wl,--end-group -Wl,--start-group -Wl,--whole-archive "{build.path}/{archive_file}" -Wl,--no-whole-archive {compiler.ameba.ar.list} -Wl,--end-group -lm -lstdc++
recipe.c.combine.pattern="{compiler.path}{compiler.c.elf.cmd}" {compiler.c.elf.flags} {compiler.c.elf.extra_flags} "-L{runtime.tools.ameba_pro2_toolchain.path}/lib/" "-L{build.variant.path}/linker_scripts/gcc" "-T{build.variant.path}/{build.ldscript}" "-Wl,-Map={build.path}/application.map"  -o "{build.path}/application.axf" -Wl,--start-group {object_files} -Wl,--end-group -Wl,--whole-archive "{build.path}/{archive_file}" -Wl,--no-whole-archive {compiler.ameba.ar.list} -lstdc++ -lm -lc -lgcc -lnosys 

## Create nm map
recipe.nm.pattern=cp "{build.path}/{build.project_name}.axf" "{build.path}/application.axf"

## Create strip
recipe.strip.pattern="{compiler.path}{compiler.strip.cmd}" "{build.path}/{build.project_name}.axf"

## Create image
recipe.objcopy.hex.cmd=postbuild_img2_arduino_windows.exe
recipe.objcopy.hex.cmd.windows=postbuild_img2_arduino_windows.exe
recipe.objcopy.hex.cmd.linux=postbuild_img2_arduino_linux
recipe.objcopy.hex.cmd.macosx=postbuild_img2_arduino_macos

recipe.objcopy.hex.imagepath={build.path}\application.axf
recipe.objcopy.hex.imagepath.windows="{build.path}\application.axf"
recipe.objcopy.hex.imagepath.linux="{build.path}/application.axf"
recipe.objcopy.hex.imagepath.macosx="{build.path}/application.axf"

recipe.objcopy.hex.pattern="{runtime.tools.ameba_pro2_tools.path}/{recipe.objcopy.hex.cmd}" "{runtime.tools.ameba_pro2_tools.path}" "{recipe.objcopy.hex.imagepath}" "{compiler.path}" "{build.variant.path}/{build.sym_bklist}"

## Compute size
recipe.size.pattern.windows="{runtime.tools.ameba_pro2_tools.path}/amebasize.exe" "{runtime.tools.ameba_pro2_tools.path}"
recipe.size.pattern.linux="{runtime.tools.ameba_pro2_tools.path}/amebasize" "{runtime.tools.ameba_pro2_tools.path}"
recipe.size.pattern.macosx="{runtime.tools.ameba_pro2_tools.path}/amebasize" "{runtime.tools.ameba_pro2_tools.path}"

recipe.size.regex=^(?:bootloader_km0|flash_ntz)\s+([0-9]+).*

## Export bin
recipe.hooks.objcopy.postobjcopy.pattern.windows=cmd /c copy /y "{runtime.tools.ameba_pro2_tools.path}\km0_km4_image2.bin" {build.path}
recipe.hooks.objcopy.postobjcopy.pattern.linux=cp -f {runtime.tools.ameba_pro2_tools.path}/km0_km4_image2.bin {build.path}
recipe.hooks.objcopy.postobjcopy.pattern.macosx=cp -f {runtime.tools.ameba_pro2_tools.path}/km0_km4_image2.bin {build.path}
recipe.output.tmp_file=km0_km4_image2.bin
recipe.output.save_file=km0_km4_image2.bin


# Ameba Uploader tools
# -------------------
tools.ameba_pro2_tools.upload.params.verbose=
tools.ameba_pro2_tools.upload.params.quiet=

tools.ameba_pro2_tools.upload.pattern.windows="{runtime.tools.ameba_pro2_tools.path}/upload_image_tool_windows.exe" "{runtime.tools.ameba_pro2_tools.path}" "{serial.port}" "{board}" "{build.auto_upload_mode}" "{build.erase_flash}" "1500000" {upload.verbose}

tools.ameba_pro2_tools.upload.pattern.linux="{runtime.tools.ameba_pro2_tools.path}/upload_image_tool_linux" "{runtime.tools.ameba_pro2_tools.path}" "{serial.port}" "{board}" "{build.auto_upload_mode}" "{build.erase_flash}" "1500000" {upload.verbose}

tools.ameba_pro2_tools.upload.pattern.macosx="{runtime.tools.ameba_pro2_tools.path}/upload_image_tool_macos" "{runtime.tools.ameba_pro2_tools.path}" "{serial.port}" "{board}" "{build.auto_upload_mode}" "{build.erase_flash}" "1500000" {upload.verbose}

#tools.ameba_pro2_tools.upload.network_pattern="{runtime.tools.ameba_pro2_tools.path}/upload_ota.exe" -i "{serial.port}" -p "{network.port}" -f "{runtime.tools.ameba_pro2_tools.path}\ota.bin"
#tools.ameba_pro2_tools.upload.network_pattern.windows="{runtime.tools.ameba_pro2_tools.path}/upload_ota.exe" -i "{serial.port}" -p "{network.port}" -f "{runtime.tools.ameba_pro2_tools.path}\ota.bin"

recipe.hooks.sketch.prebuild.1.pattern.windows = {runtime.tools.ameba_pro2_tools.path}/prebuild_windows.exe {runtime.tools.ameba_pro2_toolchain.path} {toolchian_version_p1} {toolchian_version_p2}




